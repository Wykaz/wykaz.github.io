<!DOCTYPE html>
<html lang="fr">
<head>
	<title>Task</title>
	<link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
	<h1>Task</h1>

<!--<div>
	<div id=slider></div>
	<div id=bloc></div>
</div>-->

<div id="info"></div>
<div id="info2"></div>
<div id="info3"></div>
<div id="info4"></div>
<div id="info5"></div>
<div id="info6"></div>
<div id="info7"></div>
<div id="info8"></div>
<div id="info9"></div>


<div id="box">
	<div id=slider></div>
</div>



<script>
 
var $box = document.getElementById('box');
var $slider = document.getElementById('slider');

var gggg;

function slide( e , test ) {
	    styles = window.getComputedStyle(test);
	    stylesbox = window.getComputedStyle($box);

        var y = Math.max($box.getBoundingClientRect().y+1, Math.min(Number($box.getBoundingClientRect().y)+Number(stylesbox.getPropertyValue('height').substring(0, stylesbox.getPropertyValue('height').length-2))- styles.getPropertyValue('height').substring(0, styles.getPropertyValue('height').length-2)+1, e.clientY - styles.getPropertyValue('height').substring(0, styles.getPropertyValue('height').length-2)/2));
        var x = Math.max($box.getBoundingClientRect().x+1, Math.min(Number($box.getBoundingClientRect().x)+Number(stylesbox.getPropertyValue('width').substring(0, stylesbox.getPropertyValue('width').length-2)) - styles.getPropertyValue('width').substring(0, styles.getPropertyValue('width').length-2)+1, e.clientX - styles.getPropertyValue('width').substring(0, styles.getPropertyValue('width').length-2)/2));

        test.style.top = y + 'px';
        test.style.left = x + 'px';
}
 
$slider.addEventListener('mousedown', function( e ) {
        // il faut empêcher le comportement par défaut du mousedown, sinon il gêne
        e.preventDefault();
        // j'inscris ma fonction slide
        window.addEventListener('mousemove', gggg = function ( e ) {
			slide( e, slider );
		});
}, false);
 
window.addEventListener('mouseup', function( e ) {
        // le bouton est relâché, donc je désinscris ma fonction slide
        // c'est pour ça que j'avais besoin de la référence
        this.removeEventListener('mousemove', gggg, false);
}, false);
 
</script>
</body>
</html>
